{% extends "base_generic.html" %}
{% block title %}<title>Library Login</title>{% endblock %}
{% block login %}
<section class="login_section">
<div class = "log_img">
  {% if next %}
    {% if user.is_authenticated %}
      <p>Your account doesn't have access to this page. To proceed,
      please login with an account that has access.</p>
    {% else %}
      <p style="text-align: center; font-size:30px; padding: 0; margin: 0 0 30px; color:antiquewhite">User Login</p>
    {% endif %}
  {% endif %}
  <form name="loginform" method="post" action="{% url 'login' %}">
    {% csrf_token %}
    <div class="login">
      <input type="text" name="username" value="{{ username }}" required="">
      <label>Username</label>
    </div>
    <div class="login">
      <!-- <input id="password" type="password" name="password" value="{{ password }}">
      <label>Password</label> -->
      <input type="password" name="password" value="{{ password }}" required="">
      <label>Password</label>
    </div>
    <div class="btn">
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <input type="submit" value="LOGIN"  />
      <input type="hidden" name="next" value="{{ next }}" />
    </div>
    <div>
    <a style="text-decoration: none;" href="{% url 'password_reset' %}">Lost password?</a>
    <br>
    {# Assumes you setup the password_reset view in your URLconf #}
    <!-- <td><p style="margin: auto; width: fit-content;"><a href="{% url 'password_reset' %}">Lost password?</a></p></td> -->
    
      {% if form.errors %}
        <p style="color:aliceblue;">Your username and password didn't match.</p>
        <p style="color:aliceblue;">Please try again.</p>
      {% endif %}
    </div>
  </form>
</div>
</section>
{% endblock %}